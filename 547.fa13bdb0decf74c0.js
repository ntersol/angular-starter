"use strict";(self.webpackChunkangular_starter=self.webpackChunkangular_starter||[]).push([[547],{5547:(G,f,i)=>{i.r(f),i.d(f,{UsersModule:()=>k});var c=i(4755),l=i(8797),p=i(9621),h=i(5577),t=i(2223),u=i(1433),U=i(3144);let x=(()=>{class n{constructor(e){this.http=e,this.store=(0,u.W_)(this.http,{apiUrlBase:"https://jsonplaceholder.typicode.com"}),this.users=this.store({apiUrl:"/users",uniqueId:"id"})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(U.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=i(2056);function v(n,o){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2)(2,"a",3),t._uU(3,"Back to users"),t.qZA(),t.TgZ(4,"h1"),t._UZ(5,"i",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"tbody")(11,"tr")(12,"td")(13,"strong"),t._uU(14,"Name"),t.qZA()(),t.TgZ(15,"td"),t._uU(16),t.qZA()(),t.TgZ(17,"tr")(18,"td")(19,"strong"),t._uU(20,"Email"),t.qZA()(),t.TgZ(21,"td"),t._uU(22),t.qZA()(),t.TgZ(23,"tr")(24,"td")(25,"strong"),t._uU(26,"Website"),t.qZA()(),t.TgZ(27,"td"),t._uU(28),t.qZA()(),t.TgZ(29,"tr")(30,"td")(31,"strong"),t._uU(32,"Phone Number"),t.qZA()(),t.TgZ(33,"td"),t._uU(34),t.qZA()()()()()()()()),2&n){const e=o.ngIf;t.xp6(6),t.hij(" ",e.name,""),t.xp6(10),t.Oqu(e.name),t.xp6(6),t.Oqu(e.email),t.xp6(6),t.Oqu(e.website),t.xp6(6),t.Oqu(e.phone)}}let T=(()=>{class n{constructor(e,s){this.route=e,this.api=s,this.user$=this.route.params.pipe((0,h.z)(a=>this.api.http.get("https://jsonplaceholder.typicode.com/users/"+a.userId)))}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user"]],decls:3,vars:3,consts:[["class","container mt-3",4,"ngIf"],[1,"container","mt-3"],[2,"max-width","480px","margin","auto"],["routerLink","/users/",1,"float-end"],[1,"fas","fa-user"],[1,"card"],[1,"card-body"],[1,"table","table-sm","table-striped","mb-0"]],template:function(e,s){1&e&&(t.TgZ(0,"app-masterpage"),t.YNc(1,v,35,5,"div",0),t.ALo(2,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,s.user$)))},dependencies:[c.O5,p.rH,_.f,c.Ov],changeDetection:0}),n})();var r=i(5030),b=i(2216),g=i(1740),C=i(9920);const A=function(n){return[n]};function N(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"a",29),t._uU(3),t.qZA()(),t.TgZ(4,"td")(5,"a",30),t.ALo(6,"phoneNumber"),t._uU(7),t.ALo(8,"phoneNumber"),t.qZA()(),t.TgZ(9,"td")(10,"a",30),t._uU(11),t.qZA()(),t.TgZ(12,"td")(13,"div",31)(14,"a",32),t.NdJ("click",function(){const m=t.CHM(e).$implicit,d=t.oxw(3);return t.KtG(d.edit(m))}),t._UZ(15,"fa-icon",33),t.qZA(),t.TgZ(16,"a",34),t.NdJ("click",function(){const m=t.CHM(e).$implicit,d=t.oxw(3);return t.KtG(d.delete(m))}),t._UZ(17,"fa-icon",35),t.qZA()()()()}if(2&n){const e=o.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(10,A,"./"+e.id)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.MGl("href","tel:",t.lcZ(6,6,e.phone),"",t.LSH),t.xp6(2),t.Oqu(t.lcZ(8,8,e.phone)),t.xp6(3),t.MGl("href","mailto:",e.email,"",t.LSH),t.xp6(1),t.Oqu(e.email)}}function F(n,o){if(1&n&&(t.TgZ(0,"table",27)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Phone"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Email"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Actions"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,N,18,12,"tr",28),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(12),t.Q6J("ngForOf",e.data)}}function q(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"No users found"),t.qZA())}function y(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"a",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.editUndo())}),t._uU(1,"Undo"),t.qZA()}}function I(n,o){1&n&&(t.TgZ(0,"h3"),t._uU(1,"Edit existing user"),t.qZA())}function w(n,o){1&n&&(t.TgZ(0,"h3"),t._uU(1,"Add a new user"),t.qZA())}function J(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.save())}),t._UZ(1,"fa-icon",33),t._uU(2," Save User"),t.qZA()}if(2&n){const e=t.oxw().ngIf;t.Q6J("disabled",e.modifying)}}function E(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.save())}),t._UZ(1,"fa-icon",37),t._uU(2," Create User "),t.qZA()}if(2&n){const e=t.oxw().ngIf;t.Q6J("disabled",e.modifying)}}function M(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.refresh())}),t._UZ(4,"fa-icon",5),t.qZA(),t.TgZ(5,"h1"),t._UZ(6,"fa-icon",6),t._uU(7),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"nts-api-state",9)(11,"div",10),t.YNc(12,F,13,1,"table",11),t.qZA()(),t.YNc(13,q,2,0,"ng-template"),t.qZA()()(),t.TgZ(14,"div",12)(15,"div",13)(16,"div",8),t.YNc(17,y,2,0,"a",14),t.YNc(18,I,2,0,"h3",15),t.YNc(19,w,2,0,"h3",15),t._UZ(20,"hr",16),t.TgZ(21,"form",17)(22,"p",16)(23,"span",18),t._UZ(24,"input",19),t.TgZ(25,"label",20),t._uU(26,"Name"),t.qZA()()(),t.TgZ(27,"p",16)(28,"span",18),t._UZ(29,"input",21),t.TgZ(30,"label",22),t._uU(31,"Email"),t.qZA()()(),t.TgZ(32,"p",16)(33,"span",18),t._UZ(34,"input",23),t.TgZ(35,"label",24),t._uU(36,"Phone Number"),t.qZA()()(),t.TgZ(37,"div",25),t.YNc(38,J,3,1,"button",26),t.YNc(39,E,3,1,"button",26),t.qZA()()()()()()()}if(2&n){const e=o.ngIf,s=t.oxw();let a;t.xp6(7),t.hij(" List of users (",null!==(a=null==e||null==e.data?null:e.data.length)&&void 0!==a?a:0,")"),t.xp6(3),t.Q6J("state",e),t.xp6(2),t.Q6J("ngIf",!(null==e.data||!e.data.length)),t.xp6(5),t.Q6J("ngIf",s.isEdit()),t.xp6(1),t.Q6J("ngIf",s.isEdit()),t.xp6(1),t.Q6J("ngIf",!s.isEdit()),t.xp6(2),t.Q6J("formGroup",s.userForm),t.xp6(17),t.Q6J("ngIf",s.isEdit()),t.xp6(1),t.Q6J("ngIf",!s.isEdit())}}let O=(()=>{class n{constructor(e,s){this.api=e,this.fb=s,this.userForm=this.fb.group({address:new r.FormControl,company:new r.FormControl,email:new r.FormControl,id:new r.FormControl,name:new r.FormControl,phone:new r.FormControl,username:new r.FormControl,website:new r.FormControl}),this.isEdit=(0,t.tdS)(!1)}ngOnInit(){}save(){const e=this.userForm.getRawValue();(this.isEdit()?this.api.users.put(e):this.api.users.post(e)).subscribe(()=>{this.userForm.reset(),this.isEdit.set(!1)})}edit(e){this.userForm.patchValue(e),this.isEdit.set(!0)}editUndo(){this.userForm.reset(),this.isEdit.set(!1)}delete(e){confirm(`Are you sure you want to delete ${e.name}?`)&&this.api.users.delete(e).subscribe()}refresh(){this.api.users.refresh().subscribe()}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.sM),t.Y36(r.NonNullableFormBuilder))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-users"]],decls:3,vars:3,consts:[["class","container mt-3",4,"ngIf"],[1,"container","mt-3"],[1,"row"],[1,"col","col-12","col-md-9"],[1,"float-end",3,"click"],["icon","refresh"],["icon","users"],[1,"card"],[1,"card-body"],[3,"state"],[1,"table-container"],["class","table table-sm table-striped mb-0 table-mobile",4,"ngIf"],[1,"col","col-12","col-md-3"],[1,"card","mb-3"],["class","float-end",3,"click",4,"ngIf"],[4,"ngIf"],[1,"mb-4"],[3,"formGroup"],[1,"p-float-label","w-100"],["id","name","type","text","pInputText","","formControlName","name",1,"w-100"],["for","name"],["id","email","type","text","pInputText","","formControlName","email",1,"w-100"],["for","email"],["id","phone","type","text","pInputText","","formControlName","phone",1,"w-100"],["for","phone"],[1,"float-end"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"table","table-sm","table-striped","mb-0","table-mobile"],[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"href"],[1,"text-end"],[1,"me-3",3,"click"],["icon","cog"],[3,"click"],["icon","trash"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus"]],template:function(e,s){1&e&&(t.TgZ(0,"app-masterpage"),t.YNc(1,M,40,9,"div",0),t.ALo(2,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,s.api.users.state$)))},dependencies:[c.sg,c.O5,p.rH,r.\u0275NgNoValidate,r.DefaultValueAccessor,r.NgControlStatus,r.NgControlStatusGroup,r.FormGroupDirective,r.FormControlName,_.f,b.BN,u.$U,g.o,c.Ov,C.X],styles:["@media (max-width: 998px){.table-container[_ngcontent-%COMP%]{overflow:auto}}"],changeDetection:0}),n})();const Y=[{path:":userId",component:T,title:(0,l.Z1)("Modify User")},{path:"",component:O,title:(0,l.Z1)("Users")}],Q=p.Bz.forChild(Y);var Z=i(9771);let k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,l.m8,r.FormsModule,r.ReactiveFormsModule,Z.eK,Z.pc,Q,u.bp,g.j]}),n})()}}]);